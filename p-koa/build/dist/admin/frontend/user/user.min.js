var User=function(){function t(){}return t.prototype.init=function(){var t=this;$("#iconFile").on("change",function(a){return t.uploadImg(a)}),$("#submit").on("click",function(t){if(""==$("input[name=name]").val())return layer.alert("请填写用户名称");var a=""+$("input[name=email]").val();return""==a?layer.alert("请填写用户邮箱"):/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/.test(a)?""==$("input[name=icon]").val()?layer.alert("请上传用户头像"):void $("form").submit():layer.alert("邮箱格式错误")})},t.prototype.uploadImg=function(t){if(""!==$(t.target).val()){var a=new FormData;a.append("imgs",t.target.files[0]),$.ajax({url:"/api/upload",type:"post",cache:!1,data:a,processData:!1,contentType:!1}).done(function(t){1===t.code?($("#iconImg").attr("src",t.data).addClass("active"),$("input[name=icon]").val(t.data)):console.log(t.message)}).fail(function(t){})}},t.prototype.checkName=function(){return!0},t.prototype.checkTel=function(){return!0},t.prototype.checkEmail=function(){return!0},t.prototype.submit=function(){},t}(),user=new User;user.init();